local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/hungquan99/FluentUI/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/hungquan99/FluentUI/master/Addons/InterfaceManager.lua"))()
local minimizeUI = Enum.KeyCode.RightAlt

-- ðŸŸ¢ Create Main UI
local Window = Fluent:CreateWindow({
    Title = "x2zu [FREE]",
    SubTitle = "Dead Rails",
    TabWidth = 160,
    Size = UDim2.fromOffset(480, 360),
    Acrylic = false,
    Theme = "Darker",
    MinimizeKey = minimizeUI
})

-- Tabs
local Tabs = {
    FarT = Window:AddTab({ Title = "Farm", Icon = "rbxassetid://121302760641013" }),
    Ma = Window:AddTab({ Title = "Main", Icon = "rbxassetid://121302760641013" }),
    Ite = Window:AddTab({ Title = "Items", Icon = "rbxassetid://121302760641013" }),
    TpT = Window:AddTab({ Title = "Teleport", Icon = "rbxassetid://121302760641013" }),
    Player = Window:AddTab({ Title = "Player", Icon = "rbxassetid://121302760641013" }),
    Misc = Window:AddTab({ Title = "Misc", Icon = "rbxassetid://121302760641013" }),
    Settings = Window:AddTab({ Title = "Setting", Icon = "rbxassetid://121302760641013" })
}

do
    local baseUrl = "https://raw.githubusercontent.com/Shade-vex/Hutao-hub-code-pro-mode/refs/heads/main/"
    local Config = loadstring(game:HttpGet(baseUrl .. "Config.lua.txt"))()
    local Utilities = loadstring(game:HttpGet(baseUrl .. "Util.lua.txt"))()
    local ESP = loadstring(game:HttpGet(baseUrl .. "ESP.lua.txt"))()(Config, Utilities)
    local MiddleClick = loadstring(game:HttpGet(baseUrl .. "MiddleClick.lua.txt"))()
    local Aimbot = loadstring(game:HttpGet(baseUrl .. "Aimbot.lua.txt"))()
    
    ESP.Initialize()
    MiddleClick.Initialize()
    Aimbot.Initialize()
    
    Tabs.FarT:AddParagraph({
        Title = "Note",
        Content = "â€¢ These are toggle so you can use with configs, disabling it does not stop it.\nâ€¢ Set up configs in Settings tab."
    })
    
    Tabs.FarT:AddSection("â†³ Bonds")
    
    local AfBToggle = Tabs.FarT:AddToggle("AfBToggle", {
        Title = "Auto Farm Bonds", 
        Description = 'Normal version of farm bonds.',
        Default = false 
    })
    
    AfBToggle:OnChanged(function(Value)
        if Value then
            getgenv().DeadRails = {
                ["Farm"] = {
                    ["Enabled"] = true, -- Farm bond
                    ["Mode"] = "Normal" -- Normal/Nightmare
                }
            }
            local AutoBondsURL = baseUrl .. "AutoBondsINF"
            loadstring(game:HttpGet(AutoBondsURL))()
        end
    end)
end
